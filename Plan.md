# План автоматизации тестирования
## Автоматизируемые сценарии

**Проверяемая функциональность:** Приложение должно в собственной СУБД сохранять информацию о том, каким способом был
совершён платёж и успешно ли он был совершён (при этом данные карт сохранять не допускается).

Карты, предоставленные для тестирования в файле data.json:

- 4444 4444 4444 4441, status "APPROVED"
- 4444 4444 4444 4442, status "DECLINED"

Характеристика вводимых валидных тестовых данных:

- поле *"Номер карты"*: 16 цифр
- поле *"Месяц"*: двузначное числовое значение от 01 до 12
- поле *"Год"*: двузначное числовое значение;
- поле *"Владелец"*: допустимые значения из латинских букв, дефисов, пробелов
- поле *"CVC/CCV"*: три цифры

*Приведенные ниже сценарии тестирования необходимо проверить для БД MySql и PostgreSQL* 

#### Happy path

Преднастройка: Открыть страницу http://localhost:8080.
1) Успешная покупка тура картой со статусом APPROVED

- Нажать "Купить"
- Вввести в поля формы валидные данные
- Нажать "Отправить"

Ожидаемый результат: Оплата проходит(данные об оплате появляются в базе). Появляется сообщение об успешной покупке тура.
2) Успешная покупка тура в кредит картой со статусом APPROVED

- Нажать "Купить в кредит"
- Вввести в поля формы валидные данные
- Нажать "Отправить"

Ожидаемый результат: Оплата проходит(данные об оплате появляются в базе). Появляется сообщение об успешной покупке тура.
3) Покупка тура картой со статусом DECLINED

- Нажать "Купить"
- Вввести в поля формы валидные данные
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит(в базе данных появляется информация, что покупка отклонена). Появляется
сообщение об ошибке

4) Покупка тура в кредит картой со статусом DECLINED

- Нажать "Купить в кредит"
- Вввести в поля формы валидные данные
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит(в базе данных появляется информация, что покупка отклонена). Появляется
сообщение об ошибке

#### Sad path

**Примечание:** Сценарии применяются для обоих способов оплаты тура (обычной дебетовой картой, выдачей кредита по данным
банковской карты)

Преднастройка:
Открыть страницу http://localhost:8080. Нажать "Купить" - для оплаты дебетовой картой. Нажать "Купить в кредит" - для
оплаты кредита по карте

5) Покупка тура с невалидным номером карты

- В поле "Номер карты" ввести 7-ми значный номер карты.
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

6) Отправка формы с пустым полем "Номер карты"

- Оставить пустым поле "Номер карты"
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

7) Отправка формы с невалидным месяцем (однозначное числовое значение)

- В поле "Месяц" ввести данные из 1 числового значения
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"

  Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

8) Отправка формы с невалидным месяцем (неверно указан срок действия карты)

- В поле "Месяц" ввести значение "23"
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

9) Отправка формы с пустым полем "Месяц"

- Оставить пустым поле "Месяц"
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

10) Отправка формы с невалидным годом (однозначное числовое значение)

- В поле "Год" ввести данные из 1 числового значения
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

11) Отправка формы с невалидным годом (неверно указан срок действия карты)

- В поле "Год" ввести значение из чисел прошлого года
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно

12) Отправка формы с пустым полем "Год"

- Оставить пустым поле "Год"
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

13) Отправка формы с нулевым значением в поле "Год"

- В поле "Год" ввести нулевое значение
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

14) Отправка формы с невалидными данными владельца (значение набрано кириллицей)

- В поле "Владелец" ввести значение на кириллице
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

15) Отправка формы с введеными в поле "Владелец" цифровых значений и математических символов

- В поле "Владелец" ввести значение из цифр и матечатических символов
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

16) Отправка формы с введеными в поле "Владелец" буквенных значений в нижнем и верхнем регистре

- В поле "Владелец" ввести значение из значения в нижнем и верхнем регистре
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

17) Отправка формы с введеным в поле "Владелец" одного буквенного значения (минимальная длина поля)

- В поле "Владелец" ввести значение из одного значения
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

18) Отправка формы с введеными в поле "Владелец" 270 буквенных значений (максимальная длина поля)

- В поле "Владелец" ввести значение из 270 значений
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

19) Отправка формы с пустым полем "Владелец"

- Оставить пустым поле "Владелец"
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

20) Отправка формы с невалидным CVC/CCV (однозначное числовое значение)

- В поле "CVC/CCV" ввести данные из 1 числового значения
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

21) Отправка формы с пустым полем "CVC/CCV"

- Оставить пустым поле "CVC/CCV"
- Остальные поля формы заполнить валидными данными.
- Нажать "Отправить"

Ожидаемый результат: Оплата не проходит. Появляется сообщение об ошибке, что поле заполнено неверно.

## Используемые инструменты
* IntelliJ IDEA - языком написания автотестов выбрана Java
* Gradle - удобная система автоматической сборки
* JUnit5 - последняя версия фреймворка для написания автотестов
* Docker - удобная программа для создания контейнеров с нужными настройками
* MySQL, PostgreSQL - используемые в проекте СУБД
* Selenide - для работы с селекторами
* Lombok - для удобной генерации конструкторов и геттеров/сеттеров
* Faker - для генерации данных пользователей
* Git - для хранения версий кода
* Allure - удобный инструмент для отчетности

## Возможные риски
Возможны сбои в отправке формы при большой нагрузке. Нагрузочное тестирование не проводится.
Возможность уронить сайт. Трудности с настройкой и запуском контейнеров Docker.

## Интервальная оценка
100 часов

## План сдачи работ
* План автоматизации - 23 июня
* Авто-тесты - 7 июля
* Результаты прогона тестов и отчет по по итогам тестирования - 10 июля
* Документы по итогам автоматизации - 13 июля